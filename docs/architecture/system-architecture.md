# システムアーキテクチャ

## 概要

Monelog は、Go言語で実装されたバックエンドと React/TypeScript で実装されたフロントエンドからなるウェブアプリケーションです。このドキュメントでは、システム全体のアーキテクチャと各コンポーネントの関係性について説明します。

## 設計原則

- **クリーンアーキテクチャ**: ビジネスロジックをインフラストラクチャから分離
- **マイクロサービス準備**: 将来的なマイクロサービス化を見据えた設計
- **セキュリティファースト**: 認証・認可を含むセキュリティ対策を優先
- **スケーラビリティ**: 負荷増大に対応できる設計

## 構成図

```
+------------------+     +------------------+     +------------------+
|                  |     |                  |     |                  |
|  クライアント     |<--->|  Webサーバー     |<--->|  データベース    |
|  (React/TS)      |     |  (Go/Echo)       |     |  (MySQL)         |
|                  |     |                  |     |                  |
+------------------+     +------------------+     +------------------+
                               |
                               v
                         +------------------+
                         |                  |
                         |  外部サービス     |
                         |  (必要に応じて)   |
                         |                  |
                         +------------------+
```

## 主要コンポーネント

### フロントエンド
- **React アプリケーション**: SPA (Single Page Application) として実装
- **Material-UI**: UIコンポーネントライブラリ
- **React Hooks**: 状態管理
- **Axios**: HTTP クライアント

### バックエンド
- **Echo フレームワーク**: HTTPリクエスト処理
- **GORM**: ORMライブラリ
- **JWT**: 認証
- **Swagger**: API ドキュメント

### データベース
- **MySQL**: リレーショナルデータベース

## 技術的な詳細

### レイヤー構造
バックエンドは以下のレイヤーで構成されています：
1. **コントローラー層**: HTTPリクエスト/レスポンス処理
2. **ユースケース層**: ビジネスロジック
3. **リポジトリ層**: データアクセス
4. **モデル層**: ドメインモデル

### 通信フロー
1. クライアントからのリクエストは Echo サーバーで受け取られる
2. JWT による認証が行われる
3. コントローラーがリクエストを処理し、適切なユースケースを呼び出す
4. ユースケースがビジネスロジックを実行し、必要に応じてリポジトリを通じてデータにアクセスする
5. 結果がコントローラーに返され、クライアントにレスポンスが送信される

## 将来の拡張性

- **コンテナ化**: Docker を使用したコンテナ化対応
- **クラウドデプロイ**: AWS/GCP へのデプロイ
- **マイクロサービス化**: 機能ごとのサービス分割
- **キャッシュ層の追加**: パフォーマンス向上のためのキャッシュ導入